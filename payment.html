<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - Automated Intelligence Community College</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/payment.css">
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        /* Override inline styles to match dark futuristic theme from styles.css */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: 
                /* Bio-Digital Convergence Background - matching styles.css */
                radial-gradient(circle at 20% 30%, rgba(0,115,230,0.15) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(255,0,128,0.15) 0%, transparent 40%),
                radial-gradient(circle at 40% 80%, rgba(0,255,255,0.1) 0%, transparent 40%),
                /* Organic circuit texture overlay */
                repeating-linear-gradient(45deg, rgba(0,115,230,0.03) 0px, rgba(0,115,230,0.03) 1px, transparent 1px, transparent 11px),
                repeating-linear-gradient(-45deg, rgba(255,0,128,0.03) 0px, rgba(255,0,128,0.03) 1px, transparent 1px, transparent 11px),
                /* Base dark background */
                linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%);
            background-blend-mode: overlay, overlay, overlay, normal, normal, normal;
            background-size: 200% 200%, 200% 200%, 200% 200%, 200px 200px, 200px 200px, cover;
            animation: quantumField 40s ease-in-out infinite, bioDigitalPulse 8s ease-in-out infinite;
            color: #b3b3b3;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        body::before {
            content: ''; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            z-index: -1; 
            pointer-events: none;
            background: 
                /* Bio-organic vein-like patterns */
                radial-gradient(ellipse at 30% 20%, rgba(0,255,255,0.05) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(255,0,128,0.05) 0%, transparent 50%),
                /* Digital grid faint overlay */
                linear-gradient(90deg, transparent 99%, rgba(0,115,230,0.02) 100%),
                linear-gradient(0deg, transparent 99%, rgba(0,115,230,0.02) 100%);
            background-size: 400% 400%, 400% 400%, 50px 50px, 50px 50px;
            animation: laserScan 4s linear infinite, quantumField 60s ease-in-out infinite;
        }
        
        /* Navigation - matching styles.css */
        .main-nav {
            background: linear-gradient(135deg,#000,#1a1a2e); 
            border-bottom: 2px solid #0073e6; 
            padding: 0 20px; 
            position: sticky; 
            top: 0; 
            z-index: 1000; 
        }
        
        .nav-container {
            max-width: 1700px; 
            margin: 0 auto; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 15px 0; 
        }
        
        .nav-logo {
            font-size: 1.8em; 
            font-weight: bold; 
            color: #fff; 
            text-decoration: none; 
            animation: titleGlow 3s ease-in-out infinite; 
        }
        
        .nav-menu {
            display: flex; 
            gap: 30px; 
        }
        
        .nav-menu a {
            color: #b3b3b3; 
            text-decoration: none; 
            font-size: 1.1em; 
            transition: all .3s ease; 
            padding: 10px 15px; 
            border-radius: 5px; 
        }
        
        .nav-menu a:hover {
            color: #fff; 
            background: rgba(0,115,230,0.2); 
        }
        
        .nav-menu a.active {
            color: #fff; 
            background: rgba(0,115,230,0.3); 
        }
        
        .hamburger {
            display: none; 
            flex-direction: column; 
            cursor: pointer; 
        }
        
        .hamburger span {
            width: 25px; 
            height: 3px; 
            background: #fff; 
            margin: 3px 0; 
            transition: .3s; 
        }
        
        /* Title Section - matching styles.css */
        .title {
            background: linear-gradient(135deg,#000,#1a1a2e); 
            color: #fff; 
            border-bottom: 3px solid #0073e6;
            padding: 30px 0; 
            text-align: center;
            animation: titleGlow 3s ease-in-out infinite, titleFloat 4s ease-in-out infinite;
        }
        
        .title h1 {
            font: 300 4em/1 Arial; 
            letter-spacing: 3px; 
            text-transform: uppercase;
            margin: 0;
            position: relative; 
            overflow: hidden;
        }
        
        .title h1:before {
            content: ''; 
            position: absolute; 
            top: 0; 
            left: -100%; 
            width: 100%; 
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,115,230,0.2), transparent);
            animation: titleShine 6s ease-in-out infinite;
        }
        
        .title p {
            font: 300 1.3em/1.8 Arial; 
            opacity: 0.9;
        }
        
        /* Container - matching styles.css */
        .container {
            max-width: 1700px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        
        /* Payment Section - enhanced to match section styles */
        .payment-section {
            max-width: 600px;
            margin: 0 auto 60px;
            background: linear-gradient(135deg,#0a0a0a,#1a1a1a);
            padding: 50px;
            border-bottom: 3px solid #0073e6;
            box-shadow: 0 10px 40px rgba(0,115,230,0.15);
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
        }
        
        .payment-section:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #0073e6, transparent);
        }
        
        .payment-header {
            text-align: center;
            margin-bottom: 35px;
        }
        
        .payment-header h2 {
            font: 400 2.8em/1 Arial;
            color: #fff;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
            text-shadow: 0 0 10px rgba(0,115,230,0.5);
            animation: titleGlow 3s ease-in-out infinite;
        }
        
        .payment-header h2:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: #0073e6;
            box-shadow: 0 0 10px rgba(0,115,230,0.7);
        }
        
        .payment-header p {
            font: 300 1.3em/1.8 Arial;
            color: #b3b3b3;
            margin: 0;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 400;
            color: #fff;
            font-size: 1.3em;
        }
        
        .form-group input {
            width: 100%;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: #fff;
            font-size: 1.1em;
            transition: all .3s ease;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #0073e6;
            box-shadow: 0 0 10px rgba(0,115,230,0.3);
        }
        
        #card-element {
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: #fff;
            transition: all .3s ease;
        }
        
        #card-element.StripeElement--focus {
            border-color: #0073e6;
            box-shadow: 0 0 10px rgba(0,115,230,0.3);
        }
        
        #card-errors {
            color: #ff6b6b;
            font-size: 1.1em;
            margin-top: 8px;
            text-shadow: 0 0 5px rgba(255,107,107,0.3);
        }
        
        .amount-display {
            text-align: center;
            font: 300 3em/1 Arial;
            color: #0073e6;
            margin: 30px 0;
            text-shadow: 0 0 15px rgba(0,115,230,0.4);
            animation: pulse 2s ease-in-out infinite;
        }
        
        .btn-payment {
            background: linear-gradient(135deg, #0073e6, #005bb5);
            color: #fff;
            border: none;
            padding: 18px 40px;
            font: bold 1.2em Arial;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            transition: all .3s ease;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .btn-payment:hover {
            background: linear-gradient(135deg, #005bb5, #004a9c);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,115,230,0.3);
        }
        
        .btn-payment:active {
            transform: translateY(0);
        }
        
        .btn-payment:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-payment:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left .5s ease;
        }
        
        .btn-payment:hover:before {
            left: 100%;
        }
        
        .security-note {
            text-align: center;
            margin-top: 25px;
            padding: 20px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.05);
            font-size: 1.1em;
            color: #b3b3b3;
        }
        
        .security-note i {
            color: #0073e6;
            margin-right: 8px;
            text-shadow: 0 0 8px rgba(0,115,230,0.5);
        }
        
        .payment-success {
            display: none;
            text-align: center;
            padding: 40px;
            background: rgba(0,255,0,0.05);
            border-radius: 10px;
            margin-top: 25px;
            border: 1px solid rgba(0,255,0,0.2);
        }
        
        .payment-success i {
            font-size: 4em;
            color: #00ff88;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(0,255,136,0.5);
        }
        
        .payment-success h3 {
            font: 400 2.2em/1 Arial;
            color: #00ff88;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(0,255,136,0.4);
        }
        
        .payment-success p {
            font: 300 1.3em/1.6 Arial;
            color: #b3b3b3;
            margin-bottom: 10px;
        }
        
        #transaction-id {
            color: #00ff88;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(0,255,136,0.3);
        }
        
        /* Footer - matching flush-footer from styles.css */
        footer {
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e);
            color: #b3b3b3;
            text-align: center;
            padding: 20px;
            border-top: 2px solid #0073e6;
            width: 100%;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            margin-top: 3rem;
        }
        
        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #0073e6, transparent);
        }
        
        footer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0,115,230,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,0,128,0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        footer p {
            font-size: 1.1em;
            font-weight: 300;
            text-shadow: 0 0 10px rgba(0,115,230,0.3);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: linear-gradient(135deg,#000,#1a1a2e);
                box-shadow: 0 5px 10px rgba(0,0,0,0.1);
                padding: 1rem;
            }
            
            .nav-menu.active {
                display: flex;
            }
            
            .hamburger {
                display: flex;
            }
            
            .payment-section {
                padding: 30px 20px;
                margin-bottom: 40px;
            }
            
            .amount-display {
                font-size: 2.5em;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .payment-section {
                padding: 25px 15px;
            }
            
            .amount-display {
                font-size: 2em;
            }
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Import key animations from styles.css */
        @keyframes pulse { 0%,100% { text-shadow: 0 0 5px rgba(0,0,255,0.8), 0 0 10px rgba(0,0,255,0.8); } 50% { text-shadow: 0 0 15px rgba(0,0,255,1), 0 0 25px rgba(0,0,255,0.8); } }
        @keyframes titleGlow { 0%,100% { text-shadow: 0 0 20px #0073e6, 0 0 30px #0073e6, 0 0 40px #0073e6; } 50% { text-shadow: 0 0 30px #00a8ff, 0 0 40px #00a8ff, 0 0 50px #00a8ff, 0 0 60px #00a8ff; } }
        @keyframes titleFloat { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        @keyframes titleShine { 0% { left: -100%; } 50%,100% { left: 100%; } }
        @keyframes quantumField { 0% { background-position: 0% 0%, 0% 0%, 100% 100%, 0% 0%; } 100% { background-position: 100% 100%, 100% 100%, 0% 0%, 100% 100%; } }
        @keyframes bioDigitalPulse { 0%,100% { filter: hue-rotate(0deg) brightness(100%) contrast(110%); } 50% { filter: hue-rotate(5deg) brightness(110%) contrast(120%); } }
        @keyframes laserScan { 0% { transform: translateY(-100%); } 100% { transform: translateY(100%); } }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">AIÂ²C</a>
            <div class="nav-menu">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="faculty.html">Faculty</a>
                <a href="publications.html">Publications</a>
                <a href="contact.html">Contact</a>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Main Title -->
    <div class="title">
        <h1>Secure Payment</h1>
        <p>Complete your payment safely with our encrypted payment system</p>
    </div>

    <div class="container">
        <section class="payment-section">
            <div class="payment-header">
                <h2>Complete Your Payment</h2>
                <p>Powered by Stripe - Secure payment processing</p>
            </div>
            
            <div class="amount-display" id="amount-display">$29.99</div>
            
            <form id="payment-form">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" placeholder="John Doe" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" placeholder="john.doe@example.com" required>
                </div>
                
                <div class="form-group">
                    <label for="card-element">Card Information</label>
                    <div id="card-element">
                        <!-- Stripe Card Element will be inserted here -->
                    </div>
                    <div id="card-errors" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="amount">Amount ($)</label>
                    <input type="number" id="amount" value="29.99" step="0.01" min="1" required>
                </div>
                
                <button type="submit" class="btn-payment" id="submit-button">
                    <span class="button-text">Pay Now</span>
                </button>
            </form>
            
            <div class="payment-success" id="payment-success">
                <i class="fas fa-check-circle"></i>
                <h3>Payment Successful!</h3>
                <p>Thank you for your payment. A confirmation email has been sent to your email address.</p>
                <p>Transaction ID: <span id="transaction-id">txn_123456789</span></p>
            </div>
            
            <div class="security-note">
                <i class="fas fa-lock"></i>
                <small>Your payment information is encrypted and secure. We do not store your card details.</small>
            </div>
        </section>
    </div>

    <footer class="flush-footer">
        <div class="footer-content">
            <p>Automated Intelligence Community College &copy; 2023. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Mobile Navigation Toggle
        document.querySelector('.hamburger').addEventListener('click', function() {
            document.querySelector('.nav-menu').classList.toggle('active');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const navMenu = document.querySelector('.nav-menu');
            const hamburger = document.querySelector('.hamburger');
            
            if (!navMenu.contains(event.target) && !hamburger.contains(event.target)) {
                navMenu.classList.remove('active');
            }
        });

        // Update amount display
        document.getElementById('amount').addEventListener('input', function() {
            document.getElementById('amount-display').textContent = '$' + this.value;
        });

        // Stripe Integration
        const stripe = Stripe('pk_live_51SPfK8K1N96LdMAwVqZXRyrFgEwyR7BRpj50C4cKq0OJbb4eX4gOPGYsn5Ans47o08GHvzJOyCXhC0EewJJLwVod00WFzaRAIp');
        
        const elements = stripe.elements();
        
        // Custom styling for the card element
        const style = {
            base: {
                color: '#fff',
                fontFamily: 'Arial, sans-serif',
                fontSmoothing: 'antialiased',
                fontSize: '16px',
                '::placeholder': {
                    color: '#b3b3b3'
                }
            },
            invalid: {
                color: '#ff6b6b',
                iconColor: '#ff6b6b'
            }
        };
        
        // Create and mount the card element
        const card = elements.create('card', { style: style });
        card.mount('#card-element');
        
        // Handle real-time validation errors from the card Element
        card.addEventListener('change', function(event) {
            const displayError = document.getElementById('card-errors');
            if (event.error) {
                displayError.textContent = event.error.message;
            } else {
                displayError.textContent = '';
            }
        });
        
        // Handle form submission
        const form = document.getElementById('payment-form');
        const submitButton = document.getElementById('submit-button');
        const buttonText = submitButton.querySelector('.button-text');
        
        form.addEventListener('submit', async (event) => {
            event.preventDefault();
            
            // Disable the submit button to prevent multiple submissions
            submitButton.disabled = true;
            buttonText.textContent = 'Processing...';
            
            // Show loading animation
            submitButton.innerHTML = '<div class="loading"></div> Processing...';
            
            const { paymentMethod, error } = await stripe.createPaymentMethod({
                type: 'card',
                card: card,
                billing_details: {
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                },
            });
            
            if (error) {
                // Show error to customer
                const errorElement = document.getElementById('card-errors');
                errorElement.textContent = error.message;
                
                // Re-enable the submit button
                submitButton.disabled = false;
                submitButton.innerHTML = '<span class="button-text">Pay Now</span>';
            } else {
                // In a real implementation, you would send the paymentMethod.id to your server
                // along with the amount to create a PaymentIntent
                
                // For this demo, we'll simulate a successful payment
                setTimeout(() => {
                    // Show success message
                    document.getElementById('payment-success').style.display = 'block';
                    document.getElementById('transaction-id').textContent = 'txn_' + Math.random().toString(36).substr(2, 9);
                    
                    // Reset form
                    form.reset();
                    card.clear();
                    document.getElementById('amount-display').textContent = '$29.99';
                    
                    // Re-enable the submit button
                    submitButton.disabled = false;
                    submitButton.innerHTML = '<span class="button-text">Pay Now</span>';
                    
                    // Scroll to success message
                    document.getElementById('payment-success').scrollIntoView({ behavior: 'smooth' });
                }, 2000);
            }
        });
        
        // Add a note about Stripe fees
        document.addEventListener('DOMContentLoaded', function() {
            const securityNote = document.querySelector('.security-note');
            const feeNote = document.createElement('div');
            feeNote.innerHTML = '<br><small><i class="fas fa-info-circle"></i> Stripe charges a small processing fee (2.9% + $0.30) for each transaction</small>';
            feeNote.style.marginTop = '10px';
            feeNote.style.color = '#b3b3b3';
            securityNote.appendChild(feeNote);
        });
    </script>
</body>
</html>